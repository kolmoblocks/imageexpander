<html>
  <body>
    <script src="expand_image.js"></script>
    <script>
      
      Module.onRuntimeInitialized = function() {
        // set arg 0 (old image)
        // let pointer = Module._set_arg(0, old_size );
        // var pWasmData = new Uint8ClampedArray(Module.wasmMemory.buffer, pointer, old_size);
        // for (var i = 0; i < pWasmData.length; i++) {
        //    pWasmData[i] = old image[i];
        // }
        
        // set arg 1 (diff image)
        // Module._set_arg( 0, diff_size );
        // same like for arg 0

        // execute
        Module._exec();

        // get exec result
        let result_pointer = Module._get_result();
        let result_size = Module._get_result_size();
        // reading from 
        // var pResultData = new Uint8ClampedArray(Module.wasmMemory.buffer, result_pointer, result_size);
      }

    </script>
  </body>
</html>